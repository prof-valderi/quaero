---
const { currentPath = "/" } = Astro.props;

const links = [
  { href: "/", label: "Início" },
  { href: "/sobre", label: "Sobre" },
  { href: "/numeros", label: "Números" },
  { href: "/eventos", label: "Eventos" },
  { href: "/suporte", label: "Suporte" },
  { href: "/contato", label: "Contato" },
  { href: "/blog", label: "Blog" },
];

const isActive = (href) => {
  if (href === "/") return currentPath === "/";
  return currentPath.startsWith(href);
};
---

<header class="site-header">
  <div class="container header-row">
    <a class="brand" href="/" aria-label="Quaero — Revista filosófica">
      <div class="brand-mark serif">Quaero</div>
      <div class="brand-sub">Revista filosófica</div>
    </a>

    <nav class="nav" aria-label="Menu principal">
      {links.map((l) => (
        <a class:list={["nav-link", isActive(l.href) && "active"]} href={l.href}>
          {l.label}
        </a>
      ))}
    </nav>
  </div>
</header>

<style>
  .site-header{
    position: sticky;
    top: 0;
    z-index: 30;
    background: rgba(246,239,236,.84);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--line);
  }
  .header-row{
    display:flex;
    align-items: center;
    justify-content: space-between;
    gap: 18px;
    padding: 14px 0;
  }
  .brand{ display:flex; flex-direction: column; gap: 2px; text-decoration:none; }
  .brand-mark{ font-size: 1.8rem; letter-spacing: .02em; }
  .brand-sub{ font-size: .95rem; opacity: .8; }

  .nav{
    display:flex;
    align-items:center;
    gap: 0;
    border: 1px solid var(--line);
    border-radius: 12px;
    overflow: hidden;
    background: rgba(255,255,255,.35);
  }
  .nav-link{
    padding: 10px 14px;
    font-size: .98rem;
    border-right: 1px solid var(--line);
    text-decoration: none;
    opacity: .92;
  }
  .nav-link:last-child{ border-right: 0; }
  .nav-link:hover{ background: rgba(0,0,0,.035); text-decoration:none; }
  .nav-link.active{
    background: rgba(58,21,28,.12);
    opacity: 1;
    font-weight: 700;
  }

  @media (max-width: 980px){
    .header-row{ flex-direction: column; align-items: stretch; }
    .nav{ width: 100%; flex-wrap: wrap; }
    .nav-link{ flex: 1 1 auto; text-align: center; }
  }
</style>
